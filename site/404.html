<!doctype html><meta charset="utf-8"><meta name="robots" content="noindex"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<script>
(function () {
  var parts = location.pathname.split('/').filter(Boolean);

  // For project pages, the first segment is the repo name.
  // Example: /spsf-medal-explorer/pr/97/...
  var repo = parts[0] || '';
  var root = repo ? '/' + repo + '/' : '/';

  // Compute base for /pre and /pr routes.
  var base = root;
  var preIdx = parts.indexOf('pre');
  var prIdx = parts.indexOf('pr');
  if (preIdx >= 0) {
    base = '/' + parts.slice(0, preIdx + 1).join('/') + '/';
  } else if (prIdx >= 0 && parts[prIdx + 1]) {
    base = '/' + parts.slice(0, prIdx + 2).join('/') + '/';
  }

  function tryFetchIndex(b) {
    return fetch(b + 'index.html', { cache: 'no-store' }).then(function (r) {
      if (!r.ok) throw new Error('missing');
      return r.text();
    });
  }

  // Try computed base first. If that fails, try forcing project-page root + the rest of the path.
  // This makes the fallback more robust if base computation is off.
  var altBase = (repo && base.indexOf(root) !== 0) ? (root + parts.slice(1).join('/') + (location.pathname.endsWith('/') ? '' : '/') ) : null;

  tryFetchIndex(base)
    .catch(function () { return altBase ? tryFetchIndex(altBase) : Promise.reject(new Error('missing')); })
    .then(function (html) { document.open(); document.write(html); document.close(); })
    .catch(function () { location.replace(root); });
})();
</script>
